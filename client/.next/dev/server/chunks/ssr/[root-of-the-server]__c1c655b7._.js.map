{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/keury/OneDrive/%C3%81rea%20de%20Trabalho/nexora/client/components/RatingModal.js"],"sourcesContent":["import { io } from \"socket.io-client\";\r\n\r\nconst socket = io(\"http://localhost:3001\");\r\n\r\nexport default function RatingModal({ partnerId, onClose }) {\r\n  function rate(rating) {\r\n    socket.emit(\"rateUser\", {\r\n      targetUserId: partnerId,\r\n      rating\r\n    });\r\n    onClose();\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h3>Avalie seu parceiro</h3>\r\n      {[1,2,3,4,5].map(n => (\r\n        <button key={n} onClick={() => rate(n)}>\r\n          ⭐ {n}\r\n        </button>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;;;;;;AAEA,MAAM,SAAS,IAAA,+MAAE,EAAC;AAEH,SAAS,YAAY,EAAE,SAAS,EAAE,OAAO,EAAE;IACxD,SAAS,KAAK,MAAM;QAClB,OAAO,IAAI,CAAC,YAAY;YACtB,cAAc;YACd;QACF;QACA;IACF;IAEA,qBACE,qKAAC;;0BACC,qKAAC;0BAAG;;;;;;YACH;gBAAC;gBAAE;gBAAE;gBAAE;gBAAE;aAAE,CAAC,GAAG,CAAC,CAAA,kBACf,qKAAC;oBAAe,SAAS,IAAM,KAAK;;wBAAI;wBACnC;;mBADQ;;;;;;;;;;;AAMrB"}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/keury/OneDrive/%C3%81rea%20de%20Trabalho/nexora/client/components/ChatWindow.js"],"sourcesContent":["import { useEffect, useState, useRef } from \"react\";\r\nimport { io } from \"socket.io-client\";\r\nimport { useRouter } from \"next/router\";\r\nimport RatingModal from \"./RatingModal\";\r\n\r\nexport default function ChatWindow() {\r\n  const router = useRouter();\r\n  const { theme } = router.query;\r\n\r\n  const socketRef = useRef(null);\r\n\r\n  const [connected, setConnected] = useState(false);\r\n  const [room, setRoom] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState(\"\");\r\n  const [partnerId, setPartnerId] = useState(null);\r\n  const [showRating, setShowRating] = useState(false);\r\n  const [status, setStatus] = useState(\"Conectando...\");\r\n\r\n  useEffect(() => {\r\n    if (!theme) return;\r\n\r\n    socketRef.current = io(\"http://localhost:3001\");\r\n\r\n    socketRef.current.on(\"connect\", () => {\r\n      setStatus(\"Procurando parceiro...\");\r\n      socketRef.current.emit(\"joinTheme\", theme);\r\n    });\r\n\r\n    socketRef.current.on(\"matched\", ({ room, users }) => {\r\n      setRoom(room);\r\n      setPartnerId(users.find(u => u !== socketRef.current.id));\r\n      setStatus(\"Conectado!\");\r\n      setConnected(true);\r\n    });\r\n\r\n    socketRef.current.on(\"message\", (msg) => {\r\n      setMessages(prev => [...prev, msg]);\r\n    });\r\n\r\n    socketRef.current.on(\"disconnect\", () => {\r\n      setStatus(\"Desconectado\");\r\n      setConnected(false);\r\n    });\r\n\r\n    return () => {\r\n      socketRef.current.disconnect();\r\n    };\r\n  }, [theme]);\r\n\r\n  function sendMessage() {\r\n    if (!input.trim()) return;\r\n    socketRef.current.emit(\"message\", { room, text: input });\r\n    setMessages(prev => [...prev, `Você: ${input}`]);\r\n    setInput(\"\");\r\n  }\r\n\r\n  function nextUser() {\r\n    socketRef.current.emit(\"joinTheme\", theme);\r\n    setMessages([]);\r\n    setStatus(\"Procurando novo parceiro...\");\r\n  }\r\n\r\n  function endChat() {\r\n    setShowRating(true);\r\n  }\r\n\r\n  return (\r\n    <div style={{ padding: 20 }}>\r\n      <h2>Nexora – Tema: {theme}</h2>\r\n      <p>Status: {status}</p>\r\n\r\n      <div style={{ minHeight: 300, border: \"1px solid gray\", padding: 10 }}>\r\n        {messages.map((m, i) => (\r\n          <div key={i}>{m}</div>\r\n        ))}\r\n      </div>\r\n\r\n      {connected && (\r\n        <>\r\n          <input\r\n            value={input}\r\n            onChange={e => setInput(e.target.value)}\r\n            placeholder=\"Digite sua mensagem...\"\r\n          />\r\n          <button onClick={sendMessage}>Enviar</button>\r\n          <button onClick={nextUser}>Próximo</button>\r\n          <button onClick={endChat}>Encerrar</button>\r\n        </>\r\n      )}\r\n\r\n      {showRating && (\r\n        <RatingModal\r\n          partnerId={partnerId}\r\n          onClose={() => setShowRating(false)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;;;;;;AAEe,SAAS;IACtB,MAAM,SAAS,IAAA,oIAAS;IACxB,MAAM,EAAE,KAAK,EAAE,GAAG,OAAO,KAAK;IAE9B,MAAM,YAAY,IAAA,6GAAM,EAAC;IAEzB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,+GAAQ,EAAC;IAC3C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC;IACjC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAC,EAAE;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IACnC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,+GAAQ,EAAC;IAC3C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,+GAAQ,EAAC;IAC7C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAC;IAErC,IAAA,gHAAS,EAAC;QACR,IAAI,CAAC,OAAO;QAEZ,UAAU,OAAO,GAAG,IAAA,+MAAE,EAAC;QAEvB,UAAU,OAAO,CAAC,EAAE,CAAC,WAAW;YAC9B,UAAU;YACV,UAAU,OAAO,CAAC,IAAI,CAAC,aAAa;QACtC;QAEA,UAAU,OAAO,CAAC,EAAE,CAAC,WAAW,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE;YAC9C,QAAQ;YACR,aAAa,MAAM,IAAI,CAAC,CAAA,IAAK,MAAM,UAAU,OAAO,CAAC,EAAE;YACvD,UAAU;YACV,aAAa;QACf;QAEA,UAAU,OAAO,CAAC,EAAE,CAAC,WAAW,CAAC;YAC/B,YAAY,CAAA,OAAQ;uBAAI;oBAAM;iBAAI;QACpC;QAEA,UAAU,OAAO,CAAC,EAAE,CAAC,cAAc;YACjC,UAAU;YACV,aAAa;QACf;QAEA,OAAO;YACL,UAAU,OAAO,CAAC,UAAU;QAC9B;IACF,GAAG;QAAC;KAAM;IAEV,SAAS;QACP,IAAI,CAAC,MAAM,IAAI,IAAI;QACnB,UAAU,OAAO,CAAC,IAAI,CAAC,WAAW;YAAE;YAAM,MAAM;QAAM;QACtD,YAAY,CAAA,OAAQ;mBAAI;gBAAM,CAAC,MAAM,EAAE,OAAO;aAAC;QAC/C,SAAS;IACX;IAEA,SAAS;QACP,UAAU,OAAO,CAAC,IAAI,CAAC,aAAa;QACpC,YAAY,EAAE;QACd,UAAU;IACZ;IAEA,SAAS;QACP,cAAc;IAChB;IAEA,qBACE,qKAAC;QAAI,OAAO;YAAE,SAAS;QAAG;;0BACxB,qKAAC;;oBAAG;oBAAgB;;;;;;;0BACpB,qKAAC;;oBAAE;oBAAS;;;;;;;0BAEZ,qKAAC;gBAAI,OAAO;oBAAE,WAAW;oBAAK,QAAQ;oBAAkB,SAAS;gBAAG;0BACjE,SAAS,GAAG,CAAC,CAAC,GAAG,kBAChB,qKAAC;kCAAa;uBAAJ;;;;;;;;;;YAIb,2BACC;;kCACE,qKAAC;wBACC,OAAO;wBACP,UAAU,CAAA,IAAK,SAAS,EAAE,MAAM,CAAC,KAAK;wBACtC,aAAY;;;;;;kCAEd,qKAAC;wBAAO,SAAS;kCAAa;;;;;;kCAC9B,qKAAC;wBAAO,SAAS;kCAAU;;;;;;kCAC3B,qKAAC;wBAAO,SAAS;kCAAS;;;;;;;;YAI7B,4BACC,qKAAC,6HAAW;gBACV,WAAW;gBACX,SAAS,IAAM,cAAc;;;;;;;;;;;;AAKvC"}},
    {"offset": {"line": 278, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/keury/OneDrive/%C3%81rea%20de%20Trabalho/nexora/client/pages/chat.js"],"sourcesContent":["import ChatWindow from \"../components/ChatWindow\";\r\n\r\nexport default function Chat() {\r\n  return <ChatWindow />;\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;;;;;;AAEe,SAAS;IACtB,qBAAO,qKAAC,4HAAU;;;;;AACpB"}}]
}